{% extends "layout.html" %}

{% block script %}
    <script src="{{ url_for('static', filename='drag.js') }}"></script>
{% endblock %}

{% block main %}

    <h1 class="text-center mb-4">Team Kanban Board</h1>

    <div class="row">
        {% for status in statuses %}
            <div class="col">
                <h3>{{ status.name }}</h3>
                <div class="card-list" 
                    id="col-{{ status.id }}" 
                    ondrop="drop(event, '{{ status.id }}')" 
                    ondragover="allowDrop(event)"
                    ondragenter="dragEnter(event)"
                    ondragleave="dragLeave(event)">
                    {% for card in cards if card.status == status.id %}
                    <div class="card mb-2" 
                        draggable="true" 
                        ondragstart="drag(event)" 
                        ondragend="dragEnd(event)"
                        id="card-{{ card.id }}">
                        <div class="card-body">{{ card.content }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}